<!DOCTYPE HTML>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <script src="elm.js"></script>
    <title></title>
</head>
<body>
<script>
    var token = localStorage.getItem('token');

    var app = Elm.Main.init({
        flags: {
            token: token,
            callbackUrl: "http://url-shortener.local/callback",
            clientID: "url-shortener-dev"
        }
    });

    app.ports.store.subscribe(function ({key, value}) {
        localStorage.setItem(key, value);
    });

    app.ports.remove.subscribe(function (key) {
        localStorage.removeItem(key);
    });
</script>
</body>
</html>
